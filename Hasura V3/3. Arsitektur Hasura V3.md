# Arsitektur Hasura V3

![work diagram](https://github.com/user-attachments/assets/49cf1d4b-31d9-4c9a-86fe-8531b54b9de8)

## Pengenalan
Dibandingkan dengan Hasura v2, perbaikan arsitektur fundamental dibawa ke Hasura v3 di mana buildtime dan runtime dipisahkan menjadi komponen yang berbeda. Control plane membangun metadata proyek dan membuatnya tersedia untuk Hasura v3 engine yang berjalan di data plane.

![image](https://github.com/user-attachments/assets/18fe5448-e544-439c-a2f7-9f338de19322)

## Control Plane
Pengembang berinteraksi dengan control plane Hasura DDN untuk membuat supergraph build. Setiap supergraph build menghasilkan API GraphQL yang unik, di-host oleh data plane. Sebagai pengembang, Anda menggunakan Hasura console di control plane untuk memvisualisasikan supergraph dan berinteraksi dengan API GraphQL.

Control plane juga menyediakan fitur monitoring dan observabilitas. Console memungkinkan Anda menambahkan kolaborator sehingga Anda dapat mengundang pengembang lain untuk berkontribusi pada supergraph dan juga untuk membagikan API GraphQL dengan konsumen.

Control plane memungkinkan preview deployment dalam bentuk build, dengan menerima metadata proyek Anda dan membuatnya tersedia di data plane dalam format yang dioptimalkan untuk runtime Hasura v3 Engine.

Setiap build yang Anda buat akan menghasilkan API GraphQL yang unik dan tidak dapat diubah yang dapat digunakan untuk mengeksekusi operasi secara independen, tanpa memengaruhi build lainnya.

Control plane memproses data observabilitas yang dikirim oleh data plane dan membuatnya tersedia untuk dikonsumsi di console. Ini termasuk trace untuk setiap operasi GraphQL yang dieksekusi dan metrik keseluruhan tentang penggunaan API.

## Data Plane
Hasura v3 Engine dan data connectors berjalan di data plane. Data plane Hasura DDN menjalankan versi v3 engine yang disempurnakan, yang mampu melayani beberapa API GraphQL secara bersamaan. Ini adalah runtime mirip serverless di mana konfigurasi untuk mengeksekusi permintaan GraphQL dimuat sesuai permintaan dan dibuang setelah memproses permintaan tersebut. Hal ini membuat runtime sangat efisien dan sangat scalable.

Konektor tertentu juga menggunakan strategi serupa untuk menangani connection pool secara efisien, hanya membuatnya sesuai permintaan.

Data plane dapat dideploy di beberapa wilayah, memungkinkan permintaan API dialihkan ke lokasi klien terdekat untuk latensi yang optimal melalui load-balancing canggih dengan alamat IP Anycast.

Fitur ini tersedia secara langsung di GCP, AWS, dan Azure, dan juga dapat dideploy pada Hasura DDN yang di-host sendiri, asalkan infrastruktur mendukung kemampuan jaringan yang diperlukan.

