# Arsitektur Hasura V3

![work diagram](https://github.com/user-attachments/assets/49cf1d4b-31d9-4c9a-86fe-8531b54b9de8)

## Pengenalan
Dibandingkan dengan Hasura v2, perbaikan arsitektur fundamental dibawa ke Hasura v3 di mana buildtime dan runtime dipisahkan menjadi komponen yang berbeda. Control plane membangun metadata proyek dan membuatnya tersedia untuk Hasura v3 engine yang berjalan di data plane.

![image](https://github.com/user-attachments/assets/18fe5448-e544-439c-a2f7-9f338de19322)

## Control Plane

![image](https://github.com/user-attachments/assets/50bec879-f8e8-4ce4-a441-8ff595ccd7fe)

**Control Plane** di Hasura adalah tempat di mana developer membuat, mengelola, dan memonitor supergraph. Setiap **supergraph build** menghasilkan API GraphQL unik yang di-host di **Data Plane**.

## Fitur Utama:

1. **API Explorer**: Memungkinkan kamu berinteraksi dengan API GraphQL.
2. **Observability**: Membantu kamu memantau dan melacak penggunaan serta performa API.
3. **Builds & Deployments**: Kelola dan preview build di sini. Setiap build menghasilkan API GraphQL yang terpisah dan tidak bisa diubah.
4. **Auth/SSO Access Control**: Kelola akses pengguna dan autentikasi.

## Cara Kerjanya:
- Sebagai developer, kamu menggunakan **console** di Control Plane untuk:
  - Visualisasikan dan bekerja dengan supergraph kamu.
  - Berkolaborasi dengan developer lain dengan menambahkan mereka untuk membantu membangun dan membagikan API GraphQL.

- **Builds**: Setiap kali kamu membuat build baru, itu menghasilkan API GraphQL baru yang bekerja secara independen. Ini berarti satu build tidak akan memengaruhi build lainnya.

- **Monitoring & Observability**: Control Plane memproses data observabilitas dari Data Plane dan menampilkannya di console. Kamu bisa melihat jejak dari setiap operasi GraphQL dan melacak penggunaan serta metrik performa API secara keseluruhan.

## Data Plane

![image](https://github.com/user-attachments/assets/c8f91690-1a66-4374-aa46-0bf5623a25ee)

Hasura v3 Engine dan data connectors berjalan di data plane. Data plane Hasura DDN menjalankan versi v3 engine yang disempurnakan, yang mampu melayani beberapa API GraphQL secara bersamaan. Ini adalah runtime mirip serverless di mana konfigurasi untuk mengeksekusi permintaan GraphQL dimuat sesuai permintaan dan dibuang setelah memproses permintaan tersebut. Hal ini membuat runtime sangat efisien dan sangat scalable.

Konektor tertentu juga menggunakan strategi serupa untuk menangani connection pool secara efisien, hanya membuatnya sesuai permintaan.

Data plane dapat dideploy di beberapa wilayah, memungkinkan permintaan API dialihkan ke lokasi klien terdekat untuk latensi yang optimal melalui load-balancing canggih dengan alamat IP Anycast.

Fitur ini tersedia secara langsung di GCP, AWS, dan Azure, dan juga dapat dideploy pada Hasura DDN yang di-host sendiri, asalkan infrastruktur mendukung kemampuan jaringan yang diperlukan.

